<h3 id="march-13-2015">March 13, 2015</h3>

<h2 id="outline">Outline</h2>

<ol>
  <li>Introduction to CartoDB (20 minutes)
    <ul>
      <li>Brief history</li>
      <li>Broad range of use cases</li>
      <li>Intro to the interface</li>
    </ul>
  </li>
  <li>Hands-on mapping workshop (45 minutes)
    <ul>
      <li>Setting up accounts</li>
      <li>Data import</li>
      <li>Choropleth, Category, Intensity Maps</li>
      <li>Basic map styling</li>
      <li>Column data types</li>
      <li>Torque – temporal maps</li>
      <li>Sharing visualizations</li>
    </ul>
  </li>
  <li>CartoDB with JavaScript briefly (5 minutes)</li>
  <li>Odyssey.js (10 minutes)</li>
  <li>Other Things and Wrap Up (10 minutes)
    <ul>
      <li>Resources</li>
      <li>Seeking help</li>
    </ul>
  </li>
</ol>

<h2 id="goals-for-today">Goals for today</h2>

<ul>
  <li>Quickly and easily make meaningful maps from data in minutes</li>
  <li>Show the breadth of data analysis available to you through CartoDB</li>
  <li>Prepare data for use in mapping</li>
</ul>

<h3 id="later-reference">Later reference</h3>

<p>You can find this document in <a href="https://gist.github.com/ohasselblad/1423bb604e891465f914">my GitHub Account</a>.</p>

<h2 id="intro-to-cartodb">1. Intro to CartoDB</h2>

<h3 id="overview">1.1 Overview</h3>
<p>I’ll show you some slides!</p>

<h3 id="journalists-using-cartodb">1.2 Journalists Using CartoDB</h3>

<ol>
  <li><a href="http://blog.cartodb.com/mapping-the-world-ongoing-demonstrations-in-brazil/">Demonstrations in Brazil</a></li>
  <li><a href="http://graphics.latimes.com/2014-la-sheriff-primary-map/">LA Sheriff Election Results</a></li>
  <li><a href="http://www.washingtonpost.com/news/morning-mix/wp/2014/12/15/the-alcatraz-escapees-could-have-survived-and-this-interactive-model-proves-it/">Alcatraz Escape revisited</a></li>
</ol>

<h3 id="tour-of-the-interface">1.3 Tour of the Interface</h3>

<h4 id="data-import">Data Import</h4>
<p>Basic Data Import
<img src="../img/common/data_import_dialog.png" alt="Data import dialog" />
Most major formats for storing data: Excel Spreadsheets, CSV files, Shapefiles, KML (Google Earth), etc. <a href="http://docs.cartodb.com/cartodb-editor.html#supported-data-formats">See complete list here.</a></p>

<ol>
  <li>Import by URL! Handy when in a workshop and you don’t want to overwhelm the bandwidth :)</li>
  <li>Select file from your computer</li>
  <li><a href="http://docs.cartodb.com/cartodb-editor.html#common-data">Common Data</a> contains useful datasets for everyday use (admin regions, USGS earthquake data, ports and their locations, and many more)</li>
</ol>

<p>Integration with <strong>Google Drive</strong> and <strong>Dropbox</strong>.</p>

<p><strong>Twitter</strong> firehose access for <a href="http://cartodb.com/enterprise">Enterprise</a> accounts.</p>

<iframe src="https://srogers.cartodb.com/viz/337d9194-6458-11e3-85b5-e5e70547d141/embed_map?scrollWheelZoom=false" width="800px" height="600px"></iframe>

<h4 id="data-tables-in-cartodb">Data tables in CartoDB</h4>

<p><strong>Column names</strong></p>

<p><img src="../img/common/column_names.png" alt="Column names" /></p>

<p><strong>Editing Data point by point</strong></p>

<p><img src="../img/common/edit_data.png" alt="editing data" /></p>

<p><strong>Filters &amp; SQL</strong></p>

<p><img src="../img/alaska/filters.png" alt="Filters" /></p>

<p>Filters are a great way to explore your data. Besides filtering your data, they allow you to see histograms of the distributions, the number of unique entries, or a search box for columns that have a large number of text entries.</p>

<h4 id="types-of-visualizations">Types of visualizations</h4>

<ul>
  <li>Simple – most basic visualization</li>
  <li>Cluster – counts number of points within a certain binned region</li>
  <li>Choropleth – makes a histogram of your data and gives bins different colors depending on the color ramp chosen</li>
  <li>Category – color data based on unique category (works best for a handful of unique types)</li>
  <li>Bubble – size markers based on column values</li>
  <li>Intensity – colors by density</li>
  <li>Density – data aggregated by number of points within a hexagon</li>
  <li>Torque – temporal visualization of data</li>
  <li>Heat maps – greater color intensity indicate greater density of data</li>
</ul>

<p>Check out <a href="http://docs.cartodb.com/cartodb-editor.html#wizards">visualization documentation</a> for more.</p>

<p>Data for the following from <a href="https://data.sfgov.org/Geographic-Locations-and-Boundaries/Streets-of-San-Francisco-Zipped-Shapefile-Format-/wbm8-ratb">DataSF</a>.</p>

<h5 id="simple-map"><em>Simple</em> Map</h5>
<p>The visualization style <em>simple</em> is the default visualization for all maps.</p>

<p><img src="../img/kqed/simple_map.png" alt="Simple visualization" /></p>

<p>Styles available in the wizard</p>

<p><img src="../img/common/styling_options.png" alt="Styling options" /></p>

<ul>
  <li><strong>Marker Fill:</strong> change the size, color, and opacity of all markers</li>
  <li><strong>Marker Stroke:</strong> change the width, color, and opacity of every marker’s border</li>
  <li><strong>Composite Operation:</strong> change the color of markers when they overlap</li>
  <li><strong>Label Text:</strong> Text appearing by a marker (can be from columns)</li>
</ul>

<h5 id="category-maps">Category Maps</h5>
<p>Color features by discrete elements.</p>

<p><img src="../img/kqed/category_map.png" alt="Category Map" /></p>

<h4 id="infowindowshovers">Infowindows/hovers</h4>

<p><img src="../img/alaska/infowindow_options.png" alt="Infowindow options" /></p>

<ul>
  <li>Select which column data appear in infowindow by toggling column on</li>
  <li>Customize further by selecting</li>
</ul>

<h4 id="change-basemap">Change basemap</h4>

<p>Select basemaps from different providers, use custom color, NASA data, MapBox tiles, etc.</p>

<p><img src="../img/common/basemap_options.png" alt="Basemap options" /></p>

<h4 id="annotations">Annotations</h4>
<p>Add annotations to your maps:</p>

<p><img src="../img/common/add_annotation.gif" alt="Annotations" /></p>

<h3 id="choropleth">Choropleth</h3>

<p>Choropleth maps show map elements colored according to where a value associated with the map element falls in a range. It’s like a histogram where each bin is colored differently according to a color scale you pick. Notice the CartoCSS screenshot above.</p>

<p><img src="../img/kqed/choropleth_map.jpg" alt="Choropleth map" /></p>

<p>Features to notice:</p>

<ul>
  <li>Column choice of how geometry is categorized</li>
  <li>Number of color bins</li>
  <li>Color ramp choices</li>
</ul>

<p><em>Quantification</em> is an option to pay attention to since it controls how the data is binned into different colors. <em>Equal interval</em> gives bins of equal size across the range, which means that outliers stand out. <em>Quantile</em> bins so that each bin has approximately the same number of values. <em>Heads/tails</em> works well for data that has more of an exponential characteristic. <em>Jenks</em> is best for data that has some clustering to it (i.e., it’s multimodal).</p>

<h4 id="cartocss-basics">CartoCSS basics</h4>

<p><a href="https://github.com/mapbox/carto/blob/master/docs/latest.md">CartoCSS</a> is the styling language for our maps.</p>

<p><img src="../img/alaska/cartocss.png" alt="CartoCSS screenshot" /></p>

<h4 id="legends">Legends</h4>

<p>Can be easily customized</p>

<p><img src="../img/alaska/legend.png" alt="Legend" /></p>

<p>You have the option of giving it a title, and changing the text for the colors. You can also change the colors manually, or, even better, change the color ramp back in the wizard. If you want to explore other color ramps, check out <a href="http://colorbrewer2.org/">Color Brewer</a> for some very well thought out color schemes.</p>

<h3 id="torque-maps">Torque maps</h3>

<p>CartoDB created a fully zoomable map that changes in time.
<img src="../img/common/torque_sunrise.gif" alt="Imgur" /></p>

<p><strong>Some examples</strong></p>

<ol>
  <li>World Cup tweets saturate <a href="http://cartodb.com/v/worldcup/match/?TC=x&amp;vis=30acae6a-0a51-11e4-8918-0e73339ffa50&amp;h=t&amp;t=Germany,B40903%7CArgentina,5CA2D1&amp;m=7%2F13%2F2014%2016:00:00%20GMT,7%2F12%2F2014%2018:35:00GMT&amp;g=147%7C#/2/7.7/56.8/0">this map</a></li>
  <li>Tweets that mention <a href="http://cartodb.s3.amazonaws.com/static_vizz/sunrise.html">sunrise map</a> (captured in an animated gif above)</li>
  <li><a href="http://robbykraft.github.io/AnimalTrack/">Animal migration patterns</a></li>
  <li><a href="http://www.washingtonpost.com/news/morning-mix/wp/2014/12/15/the-alcatraz-escapees-could-have-survived-and-this-interactive-model-proves-it/">Alcatraz Escape revisited</a></li>
</ol>

<h3 id="sharingpublishing-your-maps">Sharing/publishing your maps</h3>

<p>You can share your maps by doing this in a visualization:</p>

<p><img src="../img/common/share_map.gif" alt="Share your map" /></p>

<h3 id="last-few-things">Last few things</h3>

<h4 id="navigating-back-to-your-tables-or-visualization">Navigating back to your tables or visualization</h4>

<p>Click on the 90-degree arrow to get back to view your tables/visualizations</p>

<p><img src="../img/common/back_to_tables_arrow.png" alt="go back to tables" /></p>

<h4 id="navigating-in-general">Navigating in general</h4>

<p><img src="../img/common/navigation_bar.png" alt="Navigation bar" /></p>

<h2 id="hands-on-mapping-workshop">2. Hands-on Mapping Workshop</h2>

<p><strong>Let’s make maps.</strong></p>

<p>If you don’t have an account setup, go here: https://cartodb.com/signup?plan=academy</p>

<p>Otherwise, login to your account.</p>

<h3 id="data-import-1">Data Import</h3>

<p>Import a new dataset by copying the link (not downloading) and pasting it into the import window in your CartoDB account:</p>

<p><strong>USGS reported seismic activity (earthquakes)</strong>
http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.csv</p>

<p><img src="../img/kqed/data_import.png" alt="Data Import" /></p>

<h3 id="simple-map-1">2.1 <em>Simple</em> Map</h3>

<h4 id="challenge-1">Challenge #1</h4>

<p>Using the styles in simple, try to recreate the visualization below. It’s similar to an intensity map that shows where earthquakes are occurring in largest numbers.</p>

<p><img src="../img/kqed/challenge_1.png" alt="Challenge #1" /></p>

<p>For later reference, here’s <a href="http://blog.cartographica.com/blog/2010/8/16/gis-data-classifications-in-cartographica.html">more on quantification</a>.</p>

<h3 id="choropleth-map">2.2 Choropleth Map</h3>

<h4 id="challenge-2">Challenge #2</h4>

<p><strong>Make a choropleth map</strong></p>

<p>Next select <em>choropleth</em> from the Vizualization wizard. By default it will select <code class="highlighter-rouge">depth</code>. Select the <code class="highlighter-rouge">mag</code> column (which means magnitude or power of the earthquake).</p>

<p>Notice that there are lots of US-based earthquakes that are fairly weak – so perhaps filtering for earthquakes above 3.0 will give a better visualization of our data.</p>

<p><em>hint</em>: notice that a filter was used
<img src="../img/kqed/challenge_2.png" alt="Choropleth Map" /></p>

<h3 id="category-map">2.3 Category Map</h3>

<h4 id="challenge-3">Challenge #3</h4>

<p>Try to recreate this map using <em>category</em>. <code class="highlighter-rouge">net</code> is the column to categorize by…</p>

<p><img src="../img/kqed/challenge_3.png" alt="Category challenge" /></p>

<h3 id="torque-map">2.4 Torque Map</h3>

<h4 id="challenge-4----create-a-basic-torque-map">Challenge #4 – Create a basic torque map</h4>

<p>Create a torque map that looks like the one below. <em>Hint:</em> Select the <code class="highlighter-rouge">time</code> column of the earthquake data.</p>

<p><img src="../img/kqed/challenge_4.gif" alt="Torque animation" /></p>

<h3 id="multilayer-map">2.5 Multilayer map</h3>

<p>Three basic types of data appear on a map.</p>

<ul>
  <li>Point data – like we saw for the earthquakes</li>
  <li>Line data – like flight paths, can be seen in <a href="http://andye.cartodb.com/viz/93141b9a-784e-11e4-9f55-0e853d047bba/public_map">this example</a></li>
  <li>Polygon data – like the shapes of states</li>
</ul>

<p>Go back to your dashboard and click on <em>Common Data</em>. Find <em>Administrative Regions</em>, then click on <em>USA States</em>.</p>

<p>After the data imports into your account, click on the large <strong>+</strong> on the panel on the right side of the page.</p>

<p><img src="../img/common/multilayer_visualization.png" alt="multilayer visualization" /></p>

<p>Select the earthquake dataset. It’s default name on import is <code class="highlighter-rouge">all_month</code>. Then hit <strong>Add layer</strong> and you will get this:</p>

<p><img src="../img/common/add_additional_layer.png" alt="Add additional layer" /></p>

<p>Name your visualization something fancy.</p>

<p>You can customize each layer just as you would customize a single layer.</p>

<p>Try to create a map that looks like this:</p>

<p><img src="../img/kqed/challenge_5.gif" alt="Multilayer Map" /></p>

<h4 id="multilayer-resources">Multilayer Resources</h4>

<ul>
  <li><a href="http://academy.cartodb.com/courses/01-beginners-course/lesson-5.html">CartoDB Map Academy lesson</a> on making multilayer maps in the editor</li>
  <li><a href="http://blog.cartodb.com/layer-selector/">Recent blog post</a> about how to create one with layer selectors (legends are responsive to shown layer)</li>
</ul>

<h4 id="journo-examples">Journo examples</h4>

<ul>
  <li>Multilayer tool developed by The Daily Beast on <a href="http://www.thedailybeast.com/articles/2013/01/22/interactive-map-america-s-abortion-clinics.html">Abortion Clinic Access</a>.</li>
</ul>

<p><img src="../img/alaska/multilayer_map_abortion_clinics.png" alt="Abortion clinic access" /></p>

<h2 id="cartodbjs">3. CartoDB.js</h2>

<p><a href="http://docs.cartodb.com/cartodb-platform/cartodb-js.html">CartoDB.js</a> is our JavaScript API – a way to make maps using JavaScript.</p>

<h3 id="what-it-looks-like">3.1 What it looks like</h3>

<p><img src="../img/alaska/three_pieces_to_js_map.png" alt="Three pieces to JavaScript maps" /></p>

<p>The <a href="http://jsfiddle.net/gh/get/library/pure/CartoDB/academy/tree/master/t/03-cartodbjs-ground-up/lesson-3/jsfiddle_demo_cartocss">example above</a> uses HTML, CSS, and JavaScript to make a map appear on a webpage.</p>

<p>Check out our <a href="http://academy.cartodb.com/courses/03-cartodbjs-ground-up.html">Map Academy course on CartoDB.js</a> if you want to learn more.</p>

<h3 id="extensibility">3.2 Extensibility</h3>

<p>Use CartoDB.js with other JavaScript libraries to make powerful web map apps.</p>

<p>Check out <a href="http://www.urbanreviewer.org/">Urban Reviewer</a>.</p>

<p>If you take a look at the source code, there are a dozen libraries linked:
<img src="../img/alaska/urban_reviewer_code_example.png" alt="Urban Reviewer source code" /></p>

<h3 id="epic-example">3.3 Epic Example</h3>

<p><a href="http://illustreets.co.uk/">Illustreets</a> shows standard of living information across England to amazing detail. There are millions of data points, each can be interacted with to give graphs, summaries, etc.</p>

<h2 id="odyssey-if-we-have-time----telling-narratives-with-map-visualizations">4. Odyssey (if we have time) – Telling narratives with map visualizations</h2>

<p>Odyssey is in the process of being brought to Editor like other visualizations. For now, play in the <a href="http://cartodb.github.io/odyssey.js/">sandbox</a>.</p>

<h3 id="examples">Examples</h3>

<ul>
  <li><em>NY Daily News</em>: <a href="http://www.nydailynews.com/new-york/nyc-crime/bloody-weekend-19-injured-bullets-cops-arrest-2-article-1.1846552">48 Hours of Gun Violence</a></li>
  <li><em>Cadena Ser (Spanish radio)</em>: <a href="http://www.cadenaser.com/sonidos-11m/">The Sounds of 11M</a></li>
  <li><em>Al Jazeera</em>: <a href="http://stream.aljazeera.com/projects/socialmediaconversation/">Israeli-Palestinian Conflict by Tweets</a></li>
</ul>

<h3 id="getting-started">Getting started!</h3>

<p>Go to:
http://cartodb.github.io/odyssey.js/sandbox/sandbox.html</p>

<p>Brief tour of the interface.</p>

<p>Replace the header in the box on the right with this:</p>

<p><code class="highlighter-rouge">
- baseurl: "http://a.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png"
- title: "Percent of people that say Coke"
- author: "Your name"
- cartodb_filter: ""
- vizjson: "http://andye.cartodb.com/api/v2/viz/944f113c-95d5-11e4-a3a2-0e4fddd5de28/viz.json"
</code></p>

<p>If you want to add your own <code class="highlighter-rouge">vizjson</code> file for another visualization, go to the visualization you want to use in the CartoDB Editor, click on <em>Share</em> in the upper right hand corner, and copy the link under <em>CartoDB.js</em>. You can now paste that link in place of the vizjson link given in the above example.</p>

<p>I’m using a different base map (<code class="highlighter-rouge">baseurl</code>), changing the title and author, and adding a data layer by adding the <code class="highlighter-rouge">vizjson</code> and <code class="highlighter-rouge">cartodb_filter</code> portions.</p>

<p>If you want to add images use the following format:</p>

<p><code class="highlighter-rouge">
![Image title](image link)
</code></p>

<p>Example:
<code class="highlighter-rouge">
![David Bowie](https://theartchiveproject.files.wordpress.com/2013/06/db_lom.jpg)
</code></p>

<h2 id="wrap-up">5. Wrap Up</h2>
<p>More resources</p>

<ol>
  <li><a href="http://academy.cartodb.com">Map Academy</a></li>
  <li><a href="http://docs.cartodb.com/tutorials.html">CartoDB Tutorials</a></li>
  <li><a href="http://docs.cartodb.com/cartodb-editor.html">CartoDB Editor Documentation</a></li>
  <li><a href="http://docs.cartodb.com/cartodb-platform.html">CartoDB APIs</a></li>
  <li><a href="http://cartodb.com/gallery/">Gallery of nice maps</a></li>
</ol>

<p>My contact: <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#101;&#115;&#099;&#104;&#098;&#097;&#099;&#104;&#101;&#114;&#064;&#099;&#097;&#114;&#116;&#111;&#100;&#098;&#046;&#099;&#111;&#109;">&#101;&#115;&#099;&#104;&#098;&#097;&#099;&#104;&#101;&#114;&#064;&#099;&#097;&#114;&#116;&#111;&#100;&#098;&#046;&#099;&#111;&#109;</a></p>

<p>If you make a map you’re proud of or just want to say hello, connect with me <a href="https://twitter.com/MrEPhysics">@MrEPhysics</a>.</p>
